#defaults:
#- override hydra/job_logging: colorlog
#- override hydra/hydra_logging: colorlog

hydra:
  run:
    dir: ./outputs/${now:%m-%d}/${now:%H-%M-%S}

name: conv_debug
## WANDB params
# The wandb project name
project: MCTS_Connect4
# The wandb user to log to
entity: filipinogambino
# The wandb group for the run
group: debug

weights_only: false
model_arch: conv_model

total_steps: 1000
c: .9
unexplored_action: 1e-5
disable_wandb: true
max_steps: 1000
n_rollouts: 1000
worker_type: self_play # self_play, optimize, evaluate
seed: 42
device: cpu
unroll_length: 16
batch_size: 16

virtual_loss: 3
noise_eps: .25
c_puct: 1.5
dirichlet_alpha: .3
tau_decay_rate: .99
n_blocks: 8
hidden_dim: 128
embedding_dim: 32
kernel_size: 3
normalize: false
rescale_value_input: false
rescale_se_input: false

obs_space_kwargs: {}
reward_space_kwargs: {}
act_space: BasicActionSpace
obs_space: HistoricalObs
reward_space: GameResultReward

optimizer_class: Adam
optimizer_kwargs:
  lr: 1e-5
  # See https://arxiv.org/pdf/2105.05246.pdf
  eps: 0.0003
min_lr_mod: .002

actor_device: cpu
learner_device: cpu

# Play
search_threads: 1
max_processes: 1
simulation_num_per_move: 7

# Play Data
nb_game_in_file: 100

data_dir: "data"

model_dir: "models"
best_model_fname: "model_best_config.pt"
best_model_weight_fname: "game_%s__model_best_weight.pt"

#model_best_distributed_ftp_server: "alpha-chess-zero.mygamesonline.org"
#model_best_distributed_ftp_user: "2537576_chess"
#model_best_distributed_ftp_password: "alpha-chess-zero-2"
#model_best_distributed_ftp_remote_path: "/alpha-chess-zero.mygamesonline.org/"

next_gen_model_dir: "next_generation"
next_gen_model_dirname_tmpl: "model_%s"
next_gen_model_config_filename: "model_config.json"
next_gen_model_weight_filename: "model_weight.h5"

play_data_dir: "play_data"
play_data_filename_tmpl: "play_%s.pkl"

log_dir: "logs"
main_log_path: "main.log"